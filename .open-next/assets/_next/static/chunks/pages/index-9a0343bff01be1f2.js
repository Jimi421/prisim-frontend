(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1854)}])},9555:function(e,l,a){"use strict";a.d(l,{Z:function(){return i}});var t=a(5893);a(7294);var s=a(5675),r=a.n(s);function n(e){let{title:l,imageUrl:a,onClick:s}=e;return(0,t.jsxs)("button",{onClick:s,"aria-label":"View ".concat(l),className:"cursor-pointer bg-white dark:bg-zinc-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,t.jsx)("div",{className:"relative aspect-w-4 aspect-h-3 bg-gray-100 dark:bg-zinc-700",children:(0,t.jsx)(r(),{src:a,alt:l,fill:!0,className:"object-cover",unoptimized:!0})}),(0,t.jsx)("div",{className:"px-4 py-2 text-sm font-medium text-gray-800 dark:text-white truncate",children:l})]})}function i(e){let{images:l,onCardClick:a}=e;return(0,t.jsx)("div",{role:"region","aria-label":"Latest uploads",className:"flex overflow-x-auto space-x-4 snap-x snap-mandatory md:grid md:grid-cols-3 md:gap-6 md:space-x-0 md:overflow-visible",children:l.map(e=>(0,t.jsx)("div",{className:"flex-shrink-0 w-72 snap-start md:w-auto",children:(0,t.jsx)(n,{title:e.title,imageUrl:e.url,onClick:()=>a&&a(e.id)})},e.id))})}},1854:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return o}});var t=a(5893),s=a(9008),r=a.n(s),n=a(7294),i=a(9555);function o(){let[e,l]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(!0),[x,f]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async function(){h(!0),f(null);try{let e=await fetch("/api/gallery");if(!e.ok)throw Error("HTTP ".concat(e.status));let a=await e.json();l(a),s(a),c(Array.from(new Set(a.map(e=>e.gallery))))}catch(e){console.error("Failed to load gallery:",e),f(e.message)}finally{h(!1)}})()},[]),(0,n.useEffect)(()=>{d?s(e.filter(e=>e.gallery===d)):s(e)},[d,e]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{children:(0,t.jsx)("title",{children:"Prisim â€“ All Sketches"})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"All Sketches"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"mr-2",children:"Show:"}),(0,t.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"border p-2 rounded",children:[(0,t.jsx)("option",{value:"",children:"All"}),o.map(e=>{var l,a,s,r,n;return(0,t.jsx)("option",{value:e,children:(null!==(r=null==e?void 0:null===(a=e.charAt)||void 0===a?void 0:null===(l=a.call(e,0))||void 0===l?void 0:l.toUpperCase())&&void 0!==r?r:"")+(null!==(n=null==e?void 0:null===(s=e.slice)||void 0===s?void 0:s.call(e,1))&&void 0!==n?n:"")},e)})]})]}),m?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 animate-pulse",children:Array.from({length:6}).map((e,l)=>(0,t.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl"},l))}):x?(0,t.jsxs)("p",{className:"text-red-500",children:["Error: ",x]}):0===a.length?(0,t.jsx)("p",{className:"text-center text-gray-500",children:"No sketches found."}):(0,t.jsx)(i.Z,{images:a.map(e=>{let{id:l,title:a,url:t}=e;return{id:l,title:a,url:t}})})]})]})}},9008:function(e,l,a){e.exports=a(3867)}},function(e){e.O(0,[675,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);