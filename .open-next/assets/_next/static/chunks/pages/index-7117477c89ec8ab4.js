(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1854)}])},9555:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(5893);a(7294);var r=a(5675),l=a.n(r);function n(e){let{title:t,imageUrl:a,onClick:r}=e;return(0,s.jsxs)("button",{onClick:r,"aria-label":"View ".concat(t),className:"cursor-pointer bg-white dark:bg-zinc-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,s.jsx)("div",{className:"relative aspect-w-4 aspect-h-3 bg-gray-100 dark:bg-zinc-700",children:(0,s.jsx)(l(),{src:a,alt:t,fill:!0,className:"object-cover",unoptimized:!0})}),(0,s.jsx)("div",{className:"px-4 py-2 text-sm font-medium text-gray-800 dark:text-white truncate",children:t})]})}function i(e){let{images:t,onCardClick:a}=e;return(0,s.jsx)("div",{role:"region","aria-label":"Latest uploads",className:"flex overflow-x-auto space-x-4 snap-x snap-mandatory md:grid md:grid-cols-3 md:gap-6 md:space-x-0 md:overflow-visible",children:t.map(e=>(0,s.jsx)("div",{className:"flex-shrink-0 w-72 snap-start md:w-auto",children:(0,s.jsx)(n,{title:e.title,imageUrl:e.url,onClick:()=>a&&a(e.id)})},e.id))})}},1854:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(5893),r=a(9008),l=a.n(r),n=a(7294),i=a(9555);function c(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)([]),[c,o]=(0,n.useState)([]),[d,u]=(0,n.useState)(""),[m,h]=(0,n.useState)(!0),[x,f]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async function(){h(!0),f(null);try{let e=await fetch("/api/gallery");if(!e.ok)throw Error("HTTP ".concat(e.status));let a=await e.json();t(a),r(a),o(Array.from(new Set(a.map(e=>e.gallery))))}catch(e){console.error("Failed to load gallery:",e),f(e.message)}finally{h(!1)}})()},[]),(0,n.useEffect)(()=>{d?r(e.filter(e=>e.gallery===d)):r(e)},[d,e]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Prisim â€“ All Sketches"})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"All Sketches"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"mr-2",children:"Show:"}),(0,s.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"border p-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"All"}),c.map(e=>(0,s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),m?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 animate-pulse",children:Array.from({length:6}).map((e,t)=>(0,s.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl"},t))}):x?(0,s.jsxs)("p",{className:"text-red-500",children:["Error: ",x]}):0===a.length?(0,s.jsx)("p",{className:"text-center text-gray-500",children:"No sketches found."}):(0,s.jsx)(i.Z,{images:a.map(e=>{let{id:t,title:a,url:s}=e;return{id:t,title:a,url:s}})})]})]})}},9008:function(e,t,a){e.exports=a(3867)}},function(e){e.O(0,[675,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);