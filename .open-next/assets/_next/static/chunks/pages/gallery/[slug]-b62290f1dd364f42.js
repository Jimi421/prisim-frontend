(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{9149:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery/[slug]",function(){return s(2228)}])},9555:function(e,a,s){"use strict";s.d(a,{Z:function(){return i}});var t=s(5893);s(7294);var r=s(5675),l=s.n(r);function n(e){let{title:a,imageUrl:s,onClick:r}=e;return(0,t.jsxs)("button",{onClick:r,"aria-label":"View ".concat(a),className:"cursor-pointer bg-white dark:bg-zinc-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,t.jsx)("div",{className:"relative aspect-w-4 aspect-h-3 bg-gray-100 dark:bg-zinc-700",children:(0,t.jsx)(l(),{src:s,alt:a,fill:!0,className:"object-cover",unoptimized:!0})}),(0,t.jsx)("div",{className:"px-4 py-2 text-sm font-medium text-gray-800 dark:text-white truncate",children:a})]})}function i(e){let{images:a,onCardClick:s}=e;return(0,t.jsx)("div",{role:"region","aria-label":"Latest uploads",className:"flex overflow-x-auto space-x-4 snap-x snap-mandatory md:grid md:grid-cols-3 md:gap-6 md:space-x-0 md:overflow-visible",children:a.map(e=>(0,t.jsx)("div",{className:"flex-shrink-0 w-72 snap-start md:w-auto",children:(0,t.jsx)(n,{title:e.title,imageUrl:e.url,onClick:()=>s&&s(e.id)})},e.id))})}},2228:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return o}});var t=s(5893),r=s(9008),l=s.n(r),n=s(1163),i=s(7294),c=s(9555);function o(){let{slug:e}=(0,n.useRouter)().query,[a,s]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{e&&(async()=>{o(!0),u(null);try{let a=await fetch("/api/gallery?gallery=".concat(encodeURIComponent(e)));if(!a.ok)throw Error("HTTP ".concat(a.status));let t=await a.json();s(Array.isArray(t)?t:[])}catch(e){console.error("Failed to load gallery:",e),u(e.message)}finally{o(!1)}})()},[e]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsxs)("title",{children:["Prisim: ",e," Gallery"]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto p-6",children:[(0,t.jsx)("button",{onClick:()=>history.back(),className:"mb-4 text-blue-600",children:"← Back"}),(0,t.jsxs)("h1",{className:"text-3xl font-bold mb-6",children:["Gallery: ",(0,t.jsx)("span",{className:"capitalize",children:e})]}),r?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 animate-pulse",children:Array.from({length:8}).map((e,a)=>(0,t.jsx)("div",{className:"bg-gray-200 h-48 rounded-xl"},a))}):d?(0,t.jsxs)("div",{className:"bg-red-100 text-red-800 p-4 rounded-lg",children:["Error loading gallery: ",d]}):0===a.length?(0,t.jsx)("p",{className:"text-center text-gray-500",children:"No images in this gallery yet."}):(0,t.jsx)(c.Z,{images:a})]})]})}},9008:function(e,a,s){e.exports=s(3867)}},function(e){e.O(0,[675,888,774,179],function(){return e(e.s=9149)}),_N_E=e.O()}]);