import * as process from "node:process";
var lt=Object.defineProperty;var ct=(e,r)=>()=>(e&&(r=e(e=0)),r);var ut=(e,r)=>{for(var t in r)lt(e,t,{get:r[t],enumerable:!0})};var we={};ut(we,{default:()=>Ot});import{createHash as Ct}from"node:crypto";function pt(e={}){let{incrementalCache:r,tagCache:t,queue:n,cachePurge:a,enableCacheInterception:o=!1,routePreloadingBehavior:i="none"}=e;return{default:{override:{wrapper:"cloudflare-node",converter:"edge",proxyExternalRequest:"fetch",incrementalCache:pe(r),tagCache:he(t),queue:me(n),cdnInvalidation:ht(a)},routePreloadingBehavior:i},edgeExternals:["node:crypto"],cloudflare:{useWorkerdCondition:!0},dangerous:{enableCacheInterception:o},middleware:{external:!0,override:{wrapper:"cloudflare-edge",converter:"edge",proxyExternalRequest:"fetch",incrementalCache:pe(r),tagCache:he(t),queue:me(n)}}}}function pe(e="dummy"){return typeof e=="string"||typeof e=="function"?e:()=>e}function he(e="dummy"){return typeof e=="string"||typeof e=="function"?e:()=>e}function me(e="dummy"){return typeof e=="string"||typeof e=="function"?e:()=>e}function ht(e="dummy"){return typeof e=="string"||typeof e=="function"?e:()=>e}function W(e){try{return"__openNextInternal"in e}catch{return!1}}function mt(...e){globalThis.openNextDebug&&console.log(...e)}function gt(...e){console.warn(...e)}function re(...e){if(e.some(r=>vt(r)))return mt(...e);if(e.some(r=>W(r))){let r=e.find(t=>W(t));return r.logLevel<xt()?void 0:r.logLevel===0?console.log(...e.map(t=>W(t)?`${t.name}: ${t.message}`:t)):r.logLevel===1?gt(...e.map(t=>W(t)?`${t.name}: ${t.message}`:t)):console.error(...e)}console.error(...e)}function xt(){switch((process.env.OPEN_NEXT_ERROR_LOG_LEVEL??"1").toLowerCase()){case"debug":case"0":return 0;case"error":case"2":return 2;default:return 1}}function H(e={async:!1}){return e.async?Et():wt()}function ye(){return globalThis[ge]}function ve(){return globalThis.__NEXT_DATA__?.nextExport===!0}function wt(){let e=ye();if(e)return e;throw ve()?new Error("\n\nERROR: `getCloudflareContext` has been called in sync mode in either a static route or at the top level of a non-static one, both cases are not allowed but can be solved by either:\n  - make sure that the call is not at the top level and that the route is not static\n  - call `getCloudflareContext({async: true})` to use the `async` mode\n  - avoid calling `getCloudflareContext` in the route\n"):new Error(xe)}async function Et(){let e=ye();if(e)return e;if(process.env.NEXT_RUNTIME==="nodejs"||ve()){let t=await Rt();return bt(t),t}throw new Error(xe)}function bt(e){let r=globalThis;r[ge]=e}async function Rt(e){let{getPlatformProxy:r}=await import(`${"__wrangler".replaceAll("_","")}`),t=e?.environment??process.env.NEXT_DEV_WRANGLER_ENV,{env:n,cf:a,ctx:o}=await r({...e,environment:t});return{env:n,cf:a,ctx:o}}function Nt(e,r){let{cacheType:t="cache",prefix:n=Tt,buildId:a=_t}=r,o=Ct("sha256").update(e).digest("hex");return`${n}/${a}/${o}.${t}`.replace(/\/+/g,"/")}var dt,ft,z,te,yt,vt,ge,xe,ne,_t,Tt,Pt,ae,$t,St,Lt,Ot,Ee=ct(()=>{dt=Object.defineProperty,ft=(e,r,t)=>r in e?dt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,z=(e,r,t)=>ft(e,typeof r!="symbol"?r+"":r,t);te=class extends Error{constructor(e){super(e),z(this,"__openNextInternal",!0),z(this,"canIgnore",!0),z(this,"logLevel",0),this.name="IgnorableError"}};yt=[{clientName:"S3Client",commandName:"GetObjectCommand",errorName:"NoSuchKey"}],vt=e=>yt.some(r=>r.clientName===e?.clientName&&r.commandName===e?.commandName&&(r.errorName===e?.error?.name||r.errorName===e?.error?.Code));ge=Symbol.for("__cloudflare-context__");xe=`

ERROR: \`getCloudflareContext\` has been called without having called \`initOpenNextCloudflareForDev\` from the Next.js config file.
You should update your Next.js config file as shown below:

   \`\`\`
   // next.config.mjs

   import { initOpenNextCloudflareForDev } from "@opennextjs/cloudflare";

   initOpenNextCloudflareForDev();

   const nextConfig = { ... };
   export default nextConfig;
   \`\`\`

`,ne=(e,...r)=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log(`[${e}] `,...r)},_t="no-build-id",Tt="incremental-cache";Pt="cf-r2-incremental-cache",ae="NEXT_INC_CACHE_R2_BUCKET",$t="NEXT_INC_CACHE_R2_PREFIX",St=class{constructor(){z(this,"name",Pt)}async get(e,r){let t=H().env[ae];if(!t)throw new te("No R2 bucket");ne(`Get ${e}`);try{let n=await t.get(this.getR2Key(e,r));return n?{value:await n.json(),lastModified:n.uploaded.getTime()}:null}catch(n){return re("Failed to get from cache",n),null}}async set(e,r,t){let n=H().env[ae];if(!n)throw new te("No R2 bucket");ne(`Set ${e}`);try{await n.put(this.getR2Key(e,t),JSON.stringify(r))}catch(a){re("Failed to set to cache",a)}}async delete(e){let r=H().env[ae];if(!r)throw new te("No R2 bucket");ne(`Delete ${e}`);try{await r.delete(this.getR2Key(e))}catch(t){re("Failed to delete from cache",t)}}getR2Key(e,r){return Nt(e,{prefix:H().env[$t],buildId:process.env.NEXT_BUILD_ID,cacheType:r})}},Lt=new St,Ot=pt({incrementalCache:Lt})});import{Buffer as ce}from"node:buffer";import{AsyncLocalStorage as je}from"node:async_hooks";import{Buffer as Xt}from"node:buffer";import{Readable as k}from"node:stream";import"node:crypto";import"node:stream";import Ve from"node:path";import"node:stream";import{createHash as Tr}from"node:crypto";import"node:path";globalThis.Buffer=ce;globalThis.AsyncLocalStorage=je;var At=Object.defineProperty;Object.defineProperty=function(e,r,t){if(!(r==="__import_unsupported"&&globalThis.__import_unsupported))return At(e,r,t)};globalThis.openNextDebug=!1;globalThis.openNextVersion="3.6.5";var jt=Object.create,ue=Object.defineProperty,It=Object.getOwnPropertyDescriptor,kt=Object.getOwnPropertyNames,Mt=Object.getPrototypeOf,Dt=Object.prototype.hasOwnProperty,O=(e,r)=>()=>(e&&(r=e(e=0)),r),Ut=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),B=(e,r)=>{for(var t in r)ue(e,t,{get:r[t],enumerable:!0})},qt=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of kt(r))!Dt.call(e,a)&&a!==t&&ue(e,a,{get:()=>r[a],enumerable:!(n=It(r,a))||n.enumerable});return e},Bt=(e,r,t)=>(t=e!=null?jt(Mt(e)):{},qt(r||!e||!e.__esModule?ue(t,"default",{value:e,enumerable:!0}):t,e));function G(e){try{return"__openNextInternal"in e}catch{return!1}}var Ft=O(()=>{});function R(...e){globalThis.openNextDebug&&console.log(...e)}function Wt(...e){console.warn(...e)}function Q(...e){if(e.some(r=>Ie(r)))return R(...e);if(e.some(r=>G(r))){let r=e.find(t=>G(t));return r.logLevel<Ht()?void 0:r.logLevel===0?console.log(...e.map(t=>G(t)?`${t.name}: ${t.message}`:t)):r.logLevel===1?Wt(...e.map(t=>G(t)?`${t.name}: ${t.message}`:t)):console.error(...e)}console.error(...e)}function Ht(){switch((process.env.OPEN_NEXT_ERROR_LOG_LEVEL??"1").toLowerCase()){case"debug":case"0":return 0;case"error":case"2":return 2;default:return 1}}var be,Ie,$=O(()=>{Ft(),be=[{clientName:"S3Client",commandName:"GetObjectCommand",errorName:"NoSuchKey"}],Ie=e=>be.some(r=>r.clientName===e?.clientName&&r.commandName===e?.commandName&&(r.errorName===e?.error?.name||r.errorName===e?.error?.Code))}),zt=Ut(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=p,e.serialize=c;var r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,i=(()=>{let l=function(){};return l.prototype=Object.create(null),l})();function p(l,d){let u=new i,y=l.length;if(y<2)return u;let v=d?.decode||s,g=0;do{let x=l.indexOf("=",g);if(x===-1)break;let w=l.indexOf(";",g),N=w===-1?y:w;if(x>N){g=l.lastIndexOf(";",x-1)+1;continue}let T=f(l,g,x),S=h(l,x,T),P=l.slice(T,S);if(u[P]===void 0){let C=f(l,x+1,N),b=h(l,N,C),_=v(l.slice(C,b));u[P]=_}g=N+1}while(g<y);return u}function f(l,d,u){do{let y=l.charCodeAt(d);if(y!==32&&y!==9)return d}while(++d<u);return u}function h(l,d,u){for(;d>u;){let y=l.charCodeAt(--d);if(y!==32&&y!==9)return d+1}return u}function c(l,d,u){let y=u?.encode||encodeURIComponent;if(!r.test(l))throw new TypeError(`argument name is invalid: ${l}`);let v=y(d);if(!t.test(v))throw new TypeError(`argument val is invalid: ${d}`);let g=l+"="+v;if(!u)return g;if(u.maxAge!==void 0){if(!Number.isInteger(u.maxAge))throw new TypeError(`option maxAge is invalid: ${u.maxAge}`);g+="; Max-Age="+u.maxAge}if(u.domain){if(!n.test(u.domain))throw new TypeError(`option domain is invalid: ${u.domain}`);g+="; Domain="+u.domain}if(u.path){if(!a.test(u.path))throw new TypeError(`option path is invalid: ${u.path}`);g+="; Path="+u.path}if(u.expires){if(!m(u.expires)||!Number.isFinite(u.expires.valueOf()))throw new TypeError(`option expires is invalid: ${u.expires}`);g+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(g+="; HttpOnly"),u.secure&&(g+="; Secure"),u.partitioned&&(g+="; Partitioned"),u.priority)switch(typeof u.priority=="string"?u.priority.toLowerCase():void 0){case"low":g+="; Priority=Low";break;case"medium":g+="; Priority=Medium";break;case"high":g+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${u.priority}`)}if(u.sameSite)switch(typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite){case!0:case"strict":g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"none":g+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${u.sameSite}`)}return g}function s(l){if(l.indexOf("%")===-1)return l;try{return decodeURIComponent(l)}catch{return l}}function m(l){return o.call(l)==="[object Date]"}});function Gt(e){return e?typeof e=="string"?e.split(/(?<!Expires=\w+),/i).map(r=>r.trim()):e:[]}function ke(e){let r={};for(let[t,n]of e)t in r?Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]:r[t]=n;return r}var Y=O(()=>{});function Me(e){return ke(e.entries())}var De=O(()=>{Y()}),Ue={};B(Ue,{default:()=>qe});var Re,Ce,qe,Kt=O(()=>{Re=Bt(zt(),1),Y(),De(),Ce={convertFrom:async e=>{let r=new URL(e.url),t=r.searchParams,n=Me(t),a=await e.arrayBuffer(),o={};e.headers.forEach((s,m)=>{o[m]=s});let i=r.pathname,p=e.method,f=p!=="GET"&&p!=="HEAD",h=e.headers.get("cookie"),c=h?Re.default.parse(h):{};return{type:"core",method:p,rawPath:i,url:e.url,body:f?Xt.from(a):void 0,headers:o,remoteAddress:e.headers.get("x-forwarded-for")??"::1",query:n,cookies:c}},convertTo:async e=>{if("internalEvent"in e){let t=new Request(e.internalEvent.url,{body:e.internalEvent.body,method:e.internalEvent.method,headers:{...e.internalEvent.headers,"x-forwarded-host":e.internalEvent.headers.host}});if(globalThis.__dangerous_ON_edge_converter_returns_request===!0)return t;let n=(e.isISR||e.internalEvent.rawPath.startsWith("/_next/image"))&&process.env.DISABLE_CACHE!=="true"?{cacheEverything:!0}:{};return fetch(t,{cf:n})}let r=new Headers;for(let[t,n]of Object.entries(e.headers)){if(t==="set-cookie"&&typeof n=="string"){let a=Gt(n);for(let o of a)r.append(t,o);continue}if(Array.isArray(n))for(let a of n)r.append(t,a);else r.set(t,n)}return new Response(e.body,{status:e.statusCode,headers:r})},name:"edge"},qe=Ce}),Be={};B(Be,{default:()=>Fe});var _e,Te,Fe,Vt=O(()=>{_e={city:[encodeURIComponent,"x-open-next-city"],country:"x-open-next-country",regionCode:"x-open-next-region",latitude:"x-open-next-latitude",longitude:"x-open-next-longitude"},Te=async(e,r)=>async(t,n,a)=>{globalThis.process=process;for(let[f,h]of Object.entries(n))typeof h=="string"&&(process.env[f]=h);let o=await r.convertFrom(t),i=t.cf;for(let[f,h]of Object.entries(_e)){let c=i?.[f];if(c!=null){let[s,m]=Array.isArray(h)?h:[null,h];o.headers[m]=s?s(c):c}}let p=await e(o,{waitUntil:a.waitUntil.bind(a)});return await r.convertTo(p)},Fe={wrapper:Te,name:"cloudflare-edge",supportStreaming:!0,edgeRuntime:!0}}),We={};B(We,{default:()=>He});var Ne,He,Jt=O(()=>{$(),Ne={name:"env",resolve:async e=>{try{let r=JSON.parse(process.env.OPEN_NEXT_ORIGIN??"{}");for(let[t,n]of Object.entries(globalThis.openNextConfig.functions??{}).filter(([a])=>a!=="default"))if(n.patterns.some(a=>new RegExp(`/${a.replace(/\*\*/g,"(.*)").replace(/\*/g,"([^/]*)").replace(/\//g,"\\/").replace(/\?/g,".")}`).test(e)))return R("Using origin",t,n.patterns),r[t];return e.startsWith("/_next/image")&&r.imageOptimizer?(R("Using origin","imageOptimizer",e),r.imageOptimizer):r.default?(R("Using default origin",r.default,e),r.default):!1}catch(r){return Q("Error while resolving origin",r),!1}}},He=Ne});function ze(e,r){return k.toWeb(k.from(ce.from(e,r?"base64":"utf8")))}function j(){return process.env.OPEN_NEXT_FORCE_NON_EMPTY_RESPONSE==="true"?k.toWeb(k.from([ce.from("SOMETHING")])):k.toWeb(k.from([]))}var F=O(()=>{}),Ge={};B(Ge,{default:()=>Xe});var Pe,Xe,Qt=O(()=>{F(),Pe={name:"fetch-proxy",proxy:async e=>{let{url:r,headers:t,method:n,body:a}=e,o=Object.fromEntries(Object.entries(t).filter(([f])=>f.toLowerCase()!=="cf-connecting-ip")),i=await fetch(r,{method:n,headers:o,body:a}),p={};return i.headers.forEach((f,h)=>{p[h]=f}),{type:"core",headers:p,statusCode:i.status,isBase64Encoded:!0,body:i.body??j()}}},Xe=Pe}),Ke={};B(Ke,{default:()=>Yt});async function Yt(e){let r=new URL(e.url).pathname,t=globalThis._ROUTES.find(a=>a.regex.some(o=>new RegExp(o).test(r)));if(!t)throw new Error(`No route found for ${e.url}`);let n=await(await self._ENTRIES[`middleware_${t.name}`]).default({page:t.page,request:{...e,page:{name:t.name}}});return globalThis.__openNextAls.getStore()?.pendingPromiseRunner.add(n.waitUntil),n.response}var Zt=O(()=>{globalThis._ENTRIES={},globalThis.self=globalThis,globalThis._ROUTES=[]});$();var $e=class{resolve;reject;promise;constructor(){let e,r;this.promise=new Promise((t,n)=>{e=t,r=n}),this.resolve=e,this.reject=r}},er=class{promises=[];withResolvers(){let e=new $e;return this.promises.push(e),e}add(e){let r=new $e;this.promises.push(r),e.then(r.resolve,r.reject)}async await(){R(`Awaiting ${this.promises.length} detached promises`),(await Promise.allSettled(this.promises.map(e=>e.promise))).filter(e=>e.status==="rejected").forEach(e=>{Q(e.reason)})}};async function tr(){let e=globalThis.__openNextAls.getStore(),r=e?.pendingPromiseRunner.await()??Promise.resolve();if(e?.waitUntil){e.waitUntil(r);return}await r}function rr(){let e=Symbol.for("@next/request-context"),r=Symbol.for("@vercel/request-context"),t=globalThis.__openNextAls.getStore(),n=t?.waitUntil??(o=>t?.pendingPromiseRunner.add(o)),a={get:()=>({waitUntil:n})};globalThis[e]=a,process.env.EMULATE_VERCEL_REQUEST_CONTEXT&&(globalThis[r]=a)}function nr({isISRRevalidation:e,waitUntil:r},t){return globalThis.__openNextAls.run({requestId:Math.random().toString(36),pendingPromiseRunner:new er,isISRRevalidation:e,waitUntil:r},async()=>{rr();let n;try{n=await t()}finally{await tr()}return n})}$();$();async function ar(e){return typeof e=="function"?e():(await Promise.resolve().then(()=>(Kt(),Ue))).default}async function or(e){return typeof e=="function"?e():(await Promise.resolve().then(()=>(Vt(),Be))).default}async function ir(e){return typeof e=="function"?e():(await Promise.resolve().then(()=>(Jt(),We))).default}async function sr(e){return typeof e=="function"?e():(await Promise.resolve().then(()=>(Qt(),Ge))).default}async function lr(e){let r=await Promise.resolve().then(()=>(Ee(),we)).then(i=>i.default);globalThis.openNextConfig=r;let t=r[e.type]?.override,n=await ar(t?.converter),{name:a,wrapper:o}=await or(t?.wrapper);return R("Using wrapper",a),o(e.handler,n)}$();globalThis.__dirname??="";var cr=Ve.join(__dirname,".next"),ur=Ve.join(__dirname,".open-next");R({NEXT_DIR:cr,OPEN_NEXT_DIR:ur});var E={env:{},webpack:null,eslint:{ignoreDuringBuilds:!1},typescript:{ignoreBuildErrors:!1,tsconfigPath:"tsconfig.json"},distDir:".next",cleanDistDir:!0,assetPrefix:"",cacheMaxMemorySize:52428800,configOrigin:"next.config.js",useFileSystemPublicRoutes:!0,generateEtags:!0,pageExtensions:["tsx","ts","jsx","js"],poweredByHeader:!0,compress:!0,analyticsId:"",images:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1},devIndicators:{buildActivity:!0,buildActivityPosition:"bottom-right"},onDemandEntries:{maxInactiveAge:6e4,pagesBufferLength:5},amp:{canonicalBase:""},basePath:"",sassOptions:{},trailingSlash:!1,i18n:null,productionBrowserSourceMaps:!1,optimizeFonts:!0,excludeDefaultMomentLocales:!0,serverRuntimeConfig:{},publicRuntimeConfig:{},reactProductionProfiling:!1,reactStrictMode:!0,httpAgentOptions:{keepAlive:!0},outputFileTracing:!0,staticPageGenerationTimeout:60,swcMinify:!0,output:"standalone",modularizeImports:{"@mui/icons-material":{transform:"@mui/icons-material/{{member}}"},lodash:{transform:"lodash/{{member}}"}},experimental:{multiZoneDraftMode:!1,prerenderEarlyExit:!1,serverMinification:!0,serverSourceMaps:!1,linkNoTouchStart:!1,caseSensitiveRoutes:!1,clientRouterFilter:!0,clientRouterFilterRedirects:!1,fetchCacheKeyPrefix:"",middlewarePrefetch:"flexible",optimisticClientCache:!0,manualClientBasePath:!1,cpus:13,memoryBasedWorkersCount:!1,isrFlushToDisk:!0,workerThreads:!1,optimizeCss:!1,nextScriptWorkers:!1,scrollRestoration:!1,externalDir:!1,disableOptimizedLoading:!1,gzipSize:!0,craCompat:!1,esmExternals:!0,fullySpecified:!1,outputFileTracingRoot:"/Users/braxtonbailey/Projects/prisim/prisim-frontend",swcTraceProfiling:!1,forceSwcTransforms:!1,largePageDataBytes:128e3,adjustFontFallbacks:!1,adjustFontFallbacksWithSizeAdjust:!1,typedRoutes:!1,instrumentationHook:!1,bundlePagesExternals:!1,parallelServerCompiles:!1,parallelServerBuildTraces:!1,ppr:!1,missingSuspenseWithCSRBailout:!0,optimizeServerReact:!0,useEarlyImport:!1,staleTimes:{dynamic:30,static:300},optimizePackageImports:["lucide-react","date-fns","lodash-es","ramda","antd","react-bootstrap","ahooks","@ant-design/icons","@headlessui/react","@headlessui-float/react","@heroicons/react/20/solid","@heroicons/react/24/solid","@heroicons/react/24/outline","@visx/visx","@tremor/react","rxjs","@mui/material","@mui/icons-material","recharts","react-use","@material-ui/core","@material-ui/icons","@tabler/icons-react","mui-core","react-icons/ai","react-icons/bi","react-icons/bs","react-icons/cg","react-icons/ci","react-icons/di","react-icons/fa","react-icons/fa6","react-icons/fc","react-icons/fi","react-icons/gi","react-icons/go","react-icons/gr","react-icons/hi","react-icons/hi2","react-icons/im","react-icons/io","react-icons/io5","react-icons/lia","react-icons/lib","react-icons/lu","react-icons/md","react-icons/pi","react-icons/ri","react-icons/rx","react-icons/si","react-icons/sl","react-icons/tb","react-icons/tfi","react-icons/ti","react-icons/vsc","react-icons/wi"],trustHostHeader:!1,isExperimentalCompile:!1},configFileName:"next.config.js"},Je="hwtu-OBA8Muj7Vied2DEj",L={basePath:"",rewrites:{beforeFiles:[],afterFiles:[],fallback:[]},redirects:[{source:"/:path+/",destination:"/:path+",internal:!0,statusCode:308,regex:"^(?:/((?:[^/]+?)(?:/(?:[^/]+?))*))/$"}],routes:{static:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/gallery",regex:"^/gallery(?:/)?$",routeKeys:{},namedRegex:"^/gallery(?:/)?$"},{page:"/sketch",regex:"^/sketch(?:/)?$",routeKeys:{},namedRegex:"^/sketch(?:/)?$"},{page:"/upload",regex:"^/upload(?:/)?$",routeKeys:{},namedRegex:"^/upload(?:/)?$"}],dynamic:[{page:"/gallery/[slug]",regex:"^/gallery/([^/]+?)(?:/)?$",routeKeys:{nxtPslug:"nxtPslug"},namedRegex:"^/gallery/(?<nxtPslug>[^/]+?)(?:/)?$"}],data:{static:[],dynamic:[]}},locales:[]},dr=[],M={version:4,routes:{},dynamicRoutes:{},preview:{previewModeId:"44296c797db5e2f11086266d58e6448d",previewModeSigningKey:"5182ebe51db0fcbe2d5f5d8f273d387a38ff24681a4a89ec9408267a14585aaf",previewModeEncryptionKey:"919066209a984cb3ac527ac71947ca9a5c857904041302461d937298716502ea"},notFoundRoutes:[]},fr={version:3,middleware:{},functions:{},sortedMiddleware:[]},Qe={},pr={version:1,functions:{}},hr={"/_app":"pages/_app.js","/_error":"pages/_error.js","/gallery/[slug]":"pages/gallery/[slug].html","/":"pages/index.html","/gallery":"pages/gallery.html","/sketch":"pages/sketch.html","/upload":"pages/upload.html","/_document":"pages/_document.js","/404":"pages/404.html"};process.env.NEXT_BUILD_ID=Je;$();Y();Y();$();F();$();function mr(e,r,t){let n=new Map,a=e.replace(/[ \t]/g,"");if(r){let c=0;for(let s of r){let m=s.toLowerCase();if(n.set(m,{orig:s,pos:c++}),t.prefixMatch){let l=m.split("-");for(;l.pop(),l.length>0;){let d=l.join("-");n.has(d)||n.set(d,{orig:s,pos:c++})}}}}let o=a.split(","),i=[],p=new Set;for(let c=0;c<o.length;++c){let s=o[c];if(!s)continue;let m=s.split(";");if(m.length>2)throw new Error(`Invalid ${t.type} header`);let l=m[0].toLowerCase();if(!l)throw new Error(`Invalid ${t.type} header`);let d={token:l,pos:c,q:1};if(r&&n.has(l)&&(d.pref=n.get(l).pos),p.add(d.token),m.length===2){let u=m[1],[y,v]=u.split("=");if(!v||y!=="q"&&y!=="Q")throw new Error(`Invalid ${t.type} header`);let g=Number.parseFloat(v);if(g===0)continue;Number.isFinite(g)&&g<=1&&g>=.001&&(d.q=g)}i.push(d)}i.sort((c,s)=>s.q!==c.q?s.q-c.q:s.pref!==c.pref?c.pref===void 0?1:s.pref===void 0?-1:c.pref-s.pref:c.pos-s.pos);let f=i.map(c=>c.token);if(!r||!r.length)return f;let h=[];for(let c of f)if(c==="*")for(let[s,m]of n)p.has(s)||h.push(m.orig);else{let s=c.toLowerCase();n.has(s)&&h.push(n.get(s).orig)}return h}function Ye(e="",r){return mr(e,r,{type:"accept-language",prefixMatch:!0})[0]||void 0}function gr(e){return E.i18n?.locales.includes(e.split("/")[1].toLowerCase())??!1}function yr(e){let r=E.i18n,t=e.NEXT_LOCALE?.toLowerCase();return t?r?.locales.find(n=>t===n.toLowerCase()):void 0}function ie({hostname:e,detectedLocale:r}){let t=E.i18n?.domains;if(!t)return;let n=r?.toLowerCase();for(let a of t){let o=a.domain.split(":",1)[0].toLowerCase();if(e===o||n===a.defaultLocale.toLowerCase()||a.locales?.some(i=>n===i.toLowerCase()))return a}}function V(e,r){let t=ie({hostname:e.headers.host});if(r.localeDetection===!1)return t?.defaultLocale??r.defaultLocale;let n=yr(e.cookies),a=Ye(e.headers["accept-language"],r?.locales);return R({cookiesLocale:n,preferredLocale:a,defaultLocale:r.defaultLocale,domainLocale:t}),t?.defaultLocale??n??a??r.defaultLocale}function Z(e){let r=E.i18n;return!r||gr(e.rawPath)?e.rawPath:`/${V(e,r)}${e.rawPath}`}function vr(e){let r=E.i18n;if(!r||r.localeDetection===!1||e.rawPath!=="/")return!1;let t=Ye(e.headers["accept-language"],r?.locales),n=V(e,r),a=ie({hostname:e.headers.host}),o=ie({detectedLocale:t});if(a&&o){let p=o.domain===a.domain,f=o.defaultLocale===t;if(!p||!f){let h=`http${o.http?"":"s"}`,c=f?"":t;return{type:"core",statusCode:307,headers:{Location:`${h}://${o.domain}/${c}`},body:j(),isBase64Encoded:!1}}}let i=a?.defaultLocale??r.defaultLocale;return n.toLowerCase()!==i.toLowerCase()?{type:"core",statusCode:307,headers:{Location:q(e.url,`/${n}`)},body:j(),isBase64Encoded:!1}:!1}function xr(e,r,t){let n=Er(e),a=n+=1831565813;a=Math.imul(a^a>>>15,a|1),a^=a+Math.imul(a^a>>>7,a|61);let o=((a^a>>>14)>>>0)/4294967296,i=Math.floor(o*r);return`${t}-${i}`}function wr(e){let r=Number.parseInt(process.env.MAX_REVALIDATE_CONCURRENCY??"10");return xr(e,r,"revalidate")}function Er(e){let r=1779033703,t=3144134277,n=1013904242,a=2773480762;for(let o=0,i;o<e.length;o++)i=e.charCodeAt(o),r=t^Math.imul(r^i,597399067),t=n^Math.imul(t^i,2869860233),n=a^Math.imul(n^i,951274213),a=r^Math.imul(a^i,2716044179);return r=Math.imul(n^r>>>18,597399067),t=Math.imul(a^t>>>22,2869860233),n=Math.imul(r^n>>>17,951274213),a=Math.imul(t^a>>>19,2716044179),r^=t^n^a,t^=r,n^=r,a^=r,r>>>0}function Ze(e,r){if(!e)return!1;let t=/^https?:\/\//;return r?t.test(e)&&!e.includes(r):t.test(e)}function br(e){if(e==="")return{};let r=e.split("&");return ke(r.map(t=>{let[n,a]=t.split("=");return[n,a]}))}function Rr(e,r){if(!r){let a=/\/([^?]*)\??(.*)/,o=e.match(a);return{hostname:"",pathname:o?.[1]?`/${o[1]}`:e,protocol:"",queryString:o?.[2]??""}}let t=/^(https?:)\/\/?([^\/\s]+)(\/[^?]*)?(\?.*)?/,n=e.match(t);if(!n)throw new Error(`Invalid external URL: ${e}`);return{protocol:n[1]??"https:",hostname:n[2],pathname:n[3]??"",queryString:n[4]?.slice(1)??""}}function q(e,r){let t=E.basePath??"";return new URL(`${t}${r}`,e).href}function et(e){let r=[];return Object.entries(e).forEach(([t,n])=>{Array.isArray(n)?n.forEach(a=>r.push(`${t}=${a}`)):r.push(`${t}=${n}`)}),r.length>0?`?${r.join("&")}`:""}function Cr(e,r){if(r?.functions?.["/_middleware"])return r.functions["/_middleware"].matchers?.map(({regexp:n})=>new RegExp(n))??[/.*/];let t=e.middleware["/"];return t?.matchers?t.matchers.map(({regexp:n})=>new RegExp(n)):[]}function X(e,{isPath:r}={}){let t=e.replaceAll("(.)","_\xB51_").replaceAll("(..)","_\xB52_").replaceAll("(...)","_\xB53_");return r?t:t.replaceAll("+","_\xB54_")}function oe(e){return e.replaceAll("_\xB51_","(.)").replaceAll("_\xB52_","(..)").replaceAll("_\xB53_","(...)").replaceAll("_\xB54_","+")}function _r(e,r){return e==="GET"||e==="HEAD"||!r?void 0:new ReadableStream({start(t){t.enqueue(r),t.close()}})}var Se;(function(e){e.CACHE_CONTROL="cache-control",e.NEXT_CACHE="x-nextjs-cache"})(Se||(Se={}));$();F();async function Nr(e,r,t){if(globalThis.openNextConfig.dangerous?.disableTagCache)return!1;if(!t.value)return!0;if("type"in t&&t.type==="page")return!1;let n=t.lastModified??Date.now();return globalThis.tagCache.mode==="nextMode"?await globalThis.tagCache.hasBeenRevalidated(r,n):await globalThis.tagCache.getLastModified(e,n)===-1}function Pr(e){if(!e)return[];try{return e.meta?.headers?.["x-next-cache-tags"]?.split(",")??[]}catch{return[]}}$();var D=60*60*24*365,Le=60*60*24*30;async function tt(e,r,t,n,a){let o=D,i=Object.entries(M.routes).find(c=>c[0]===e)?.[1];n===void 0&&i?o=i.initialRevalidateSeconds===!1?D:i.initialRevalidateSeconds:n!==void 0&&(o=n===!1?D:n);let p=Math.round((Date.now()-(a??0))/1e3),f=c=>Tr("md5").update(c).digest("hex"),h=f(r);if(n===0)return{"cache-control":"private, no-cache, no-store, max-age=0, must-revalidate","x-opennext-cache":"ERROR",etag:h};if(o!==D){let c=Math.max(o-p,1);R("sMaxAge",{finalRevalidate:o,age:p,lastModified:a,revalidate:n});let s=c===1;if(s){let m=E.trailingSlash?`${e}/`:e;E.basePath&&(m=`${E.basePath}${m}`),await globalThis.queue.send({MessageBody:{host:t,url:m,eTag:h,lastModified:a??Date.now()},MessageDeduplicationId:f(`${e}-${a}-${h}`),MessageGroupId:wr(e)})}return{"cache-control":`s-maxage=${c}, stale-while-revalidate=${Le}`,"x-opennext-cache":s?"STALE":"HIT",etag:h}}return{"cache-control":`s-maxage=${D}, stale-while-revalidate=${Le}`,"x-opennext-cache":"HIT",etag:h}}async function $r(e,r,t,n){R("Returning result from experimental cache");let a="",o="application/octet-stream",i=!1;switch(t.type){case"app":i=!!e.headers.rsc,a=i?t.rsc:t.html,o=i?"text/x-component":"text/html; charset=utf-8";break;case"page":i=!!e.query.__nextDataReq,a=i?JSON.stringify(t.json):t.html,o=i?"application/json":"text/html; charset=utf-8";break}let p=await tt(r,a,e.headers.host,t.revalidate,n);return{type:"core",statusCode:200,body:ze(a,!1),isBase64Encoded:!1,headers:{...p,"content-type":o,...t.meta?.headers}}}function Sr(e,r){return e.replace(new RegExp(`([/#?]${r?"|%(2f|23|3f|5c)":""})`,"gi"),t=>encodeURIComponent(t))}function Lr(e){return e.split("/").map(r=>{try{return Sr(decodeURIComponent(r),!0)}catch{return r}}).join("/")}async function Or(e){if(e.headers["next-action"]||e.headers["x-prerender-revalidate"])return e;let r=Z(e);E.basePath&&(r=r.replace(E.basePath,"")),r=r.replace(/\/$/,""),r=Lr(r),R("Checking cache for",r,M);let t=Object.keys(M.routes).includes(r??"/")||Object.values(M.dynamicRoutes).some(n=>new RegExp(n.routeRegex).test(r));if(R("isISR",t),t)try{let n=await globalThis.incrementalCache.get(r??"/index");if(R("cached data in interceptor",n),!n?.value)return e;if(n.value?.type==="app"){let o=Pr(n.value);if(await Nr(r,o,n))return e}let a=e.headers.host;switch(n?.value?.type){case"app":case"page":return $r(e,r,n.value,n.lastModified);case"redirect":{let o=await tt(r,"",a,n.value.revalidate,n.lastModified);return{type:"core",statusCode:n.value.meta?.status??307,body:j(),headers:{...n.value.meta?.headers??{},...o},isBase64Encoded:!1}}default:return e}}catch(n){return R("Error while fetching cache",n),e}return e}function Ar(e){for(var r=[],t=0;t<e.length;){var n=e[t];if(n==="*"||n==="+"||n==="?"){r.push({type:"MODIFIER",index:t,value:e[t++]});continue}if(n==="\\"){r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});continue}if(n==="{"){r.push({type:"OPEN",index:t,value:e[t++]});continue}if(n==="}"){r.push({type:"CLOSE",index:t,value:e[t++]});continue}if(n===":"){for(var a="",o=t+1;o<e.length;){var i=e.charCodeAt(o);if(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||i===95){a+=e[o++];continue}break}if(!a)throw new TypeError("Missing parameter name at ".concat(t));r.push({type:"NAME",index:t,value:a}),t=o;continue}if(n==="("){var p=1,f="",o=t+1;if(e[o]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(o));for(;o<e.length;){if(e[o]==="\\"){f+=e[o++]+e[o++];continue}if(e[o]===")"){if(p--,p===0){o++;break}}else if(e[o]==="("&&(p++,e[o+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(o));f+=e[o++]}if(p)throw new TypeError("Unbalanced pattern at ".concat(t));if(!f)throw new TypeError("Missing pattern at ".concat(t));r.push({type:"PATTERN",index:t,value:f}),t=o;continue}r.push({type:"CHAR",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}function rt(e,r){r===void 0&&(r={});for(var t=Ar(e),n=r.prefixes,a=n===void 0?"./":n,o=r.delimiter,i=o===void 0?"/#?":o,p=[],f=0,h=0,c="",s=function(C){if(h<t.length&&t[h].type===C)return t[h++].value},m=function(C){var b=s(C);if(b!==void 0)return b;var _=t[h],I=_.type,st=_.index;throw new TypeError("Unexpected ".concat(I," at ").concat(st,", expected ").concat(C))},l=function(){for(var C="",b;b=s("CHAR")||s("ESCAPED_CHAR");)C+=b;return C},d=function(C){for(var b=0,_=i;b<_.length;b++){var I=_[b];if(C.indexOf(I)>-1)return!0}return!1},u=function(C){var b=p[p.length-1],_=C||(b&&typeof b=="string"?b:"");if(b&&!_)throw new TypeError('Must have text between two parameters, missing text after "'.concat(b.name,'"'));return!_||d(_)?"[^".concat(A(i),"]+?"):"(?:(?!".concat(A(_),")[^").concat(A(i),"])+?")};h<t.length;){var y=s("CHAR"),v=s("NAME"),g=s("PATTERN");if(v||g){var x=y||"";a.indexOf(x)===-1&&(c+=x,x=""),c&&(p.push(c),c=""),p.push({name:v||f++,prefix:x,suffix:"",pattern:g||u(x),modifier:s("MODIFIER")||""});continue}var w=y||s("ESCAPED_CHAR");if(w){c+=w;continue}c&&(p.push(c),c="");var N=s("OPEN");if(N){var x=l(),T=s("NAME")||"",S=s("PATTERN")||"",P=l();m("CLOSE"),p.push({name:T||(S?f++:""),pattern:T&&!S?u(x):S,prefix:x,suffix:P,modifier:s("MODIFIER")||""});continue}m("END")}return p}function U(e,r){return jr(rt(e,r),r)}function jr(e,r){r===void 0&&(r={});var t=de(r),n=r.encode,a=n===void 0?function(f){return f}:n,o=r.validate,i=o===void 0?!0:o,p=e.map(function(f){if(typeof f=="object")return new RegExp("^(?:".concat(f.pattern,")$"),t)});return function(f){for(var h="",c=0;c<e.length;c++){var s=e[c];if(typeof s=="string"){h+=s;continue}var m=f?f[s.name]:void 0,l=s.modifier==="?"||s.modifier==="*",d=s.modifier==="*"||s.modifier==="+";if(Array.isArray(m)){if(!d)throw new TypeError('Expected "'.concat(s.name,'" to not repeat, but got an array'));if(m.length===0){if(l)continue;throw new TypeError('Expected "'.concat(s.name,'" to not be empty'))}for(var u=0;u<m.length;u++){var y=a(m[u],s);if(i&&!p[c].test(y))throw new TypeError('Expected all "'.concat(s.name,'" to match "').concat(s.pattern,'", but got "').concat(y,'"'));h+=s.prefix+y+s.suffix}continue}if(typeof m=="string"||typeof m=="number"){var y=a(String(m),s);if(i&&!p[c].test(y))throw new TypeError('Expected "'.concat(s.name,'" to match "').concat(s.pattern,'", but got "').concat(y,'"'));h+=s.prefix+y+s.suffix;continue}if(!l){var v=d?"an array":"a string";throw new TypeError('Expected "'.concat(s.name,'" to be ').concat(v))}}return h}}function nt(e,r){var t=[],n=at(e,t,r);return Ir(n,t,r)}function Ir(e,r,t){t===void 0&&(t={});var n=t.decode,a=n===void 0?function(o){return o}:n;return function(o){var i=e.exec(o);if(!i)return!1;for(var p=i[0],f=i.index,h=Object.create(null),c=function(m){if(i[m]===void 0)return"continue";var l=r[m-1];l.modifier==="*"||l.modifier==="+"?h[l.name]=i[m].split(l.prefix+l.suffix).map(function(d){return a(d,l)}):h[l.name]=a(i[m],l)},s=1;s<i.length;s++)c(s);return{path:p,index:f,params:h}}}function A(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function de(e){return e&&e.sensitive?"":"i"}function kr(e,r){if(!r)return e;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,a=t.exec(e.source);a;)r.push({name:a[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),a=t.exec(e.source);return e}function Mr(e,r,t){var n=e.map(function(a){return at(a,r,t).source});return new RegExp("(?:".concat(n.join("|"),")"),de(t))}function Dr(e,r,t){return Ur(rt(e,t),r,t)}function Ur(e,r,t){t===void 0&&(t={});for(var n=t.strict,a=n===void 0?!1:n,o=t.start,i=o===void 0?!0:o,p=t.end,f=p===void 0?!0:p,h=t.encode,c=h===void 0?function(b){return b}:h,s=t.delimiter,m=s===void 0?"/#?":s,l=t.endsWith,d=l===void 0?"":l,u="[".concat(A(d),"]|$"),y="[".concat(A(m),"]"),v=i?"^":"",g=0,x=e;g<x.length;g++){var w=x[g];if(typeof w=="string")v+=A(c(w));else{var N=A(c(w.prefix)),T=A(c(w.suffix));if(w.pattern)if(r&&r.push(w),N||T)if(w.modifier==="+"||w.modifier==="*"){var S=w.modifier==="*"?"?":"";v+="(?:".concat(N,"((?:").concat(w.pattern,")(?:").concat(T).concat(N,"(?:").concat(w.pattern,"))*)").concat(T,")").concat(S)}else v+="(?:".concat(N,"(").concat(w.pattern,")").concat(T,")").concat(w.modifier);else{if(w.modifier==="+"||w.modifier==="*")throw new TypeError('Can not repeat "'.concat(w.name,'" without a prefix and suffix'));v+="(".concat(w.pattern,")").concat(w.modifier)}else v+="(?:".concat(N).concat(T,")").concat(w.modifier)}}if(f)a||(v+="".concat(y,"?")),v+=t.endsWith?"(?=".concat(u,")"):"$";else{var P=e[e.length-1],C=typeof P=="string"?y.indexOf(P[P.length-1])>-1:P===void 0;a||(v+="(?:".concat(y,"(?=").concat(u,"))?")),C||(v+="(?=".concat(y,"|").concat(u,")"))}return new RegExp(v,de(t))}function at(e,r,t){return e instanceof RegExp?kr(e,r):Array.isArray(e)?Mr(e,r,t):Dr(e,r,t)}function qr(e){let r=e.host+e.pathname;return`${e.protocol}//${r.replace(/\\/g,"/").replace(/\/\/+/g,"/")}${e.search}`}F();$();var Br=`^/(?:${L.locales.map(e=>`${e}/?`).join("|")})?`,Fr=L.basePath?`^${L.basePath}/?`:"^/",Wr=Br.replace("^/",Fr);function ot(e){let r=e.map(a=>({page:a.page,regexp:new RegExp(a.regex.replace("^/",Wr))})),t=new Set,n=new Set;for(let[a,o]of Object.entries(Qe))a.endsWith("page")?t.add(o):a.endsWith("route")&&n.add(o);return function(a){return r.filter(o=>o.regexp.test(a)).map(o=>{let i="page";return t.has(o.page)?i="app":n.has(o.page)&&(i="route"),{route:o.page,type:i}})}}var se=ot([...L.routes.static,...Hr()]),le=ot(L.routes.dynamic);function Hr(){let e=a=>({page:a,regex:`^${a}(?:/)?$`}),r=new Set(L.routes.dynamic.map(({page:a})=>a)),t=Object.keys(hr).filter(a=>a.startsWith("/api/")&&!r.has(a)).map(e),n=Object.values(Qe).filter(a=>a.startsWith("/api/")||a==="/api"&&!r.has(a)).map(e);return[...t,...n]}var it=(e,r,t)=>n=>{switch(n.type){case"header":return!!e?.[n.key.toLowerCase()]&&new RegExp(n.value??"").test(e[n.key.toLowerCase()]??"");case"cookie":return!!r?.[n.key]&&new RegExp(n.value??"").test(r[n.key]??"");case"query":return t[n.key]&&Array.isArray(n.value)?n.value.reduce((a,o)=>a||new RegExp(o).test(t[n.key]),!1):new RegExp(n.value??"").test(t[n.key]??"");case"host":return e?.host!==""&&new RegExp(n.value??"").test(e.host);default:return!1}};function J(e,r,t=!1){return r?r.reduce((n,a)=>n===!1?!1:t?!e(a):e(a),!0):!0}var zr=e=>r=>{R("value",r);let t=e(r);return t?t.params:{}},Gr=(e,r,t)=>n=>{if(!n.value)return{};let a=new RegExp(`^${n.value}$`),o=i=>i.match(a)?.groups??{};switch(n.type){case"header":return o(e[n.key.toLowerCase()]??"");case"cookie":return o(r[n.key]??"");case"query":return Array.isArray(t[n.key])?o(t[n.key].join(",")):o(t[n.key]??"");case"host":return o(e.host??"")}};function Oe(e,r,t){if(!e)return t;let{params:n}=e;return Object.keys(n).length>0?r(n):t}function Xr(e,r){if(!r)return{};let t=it(e.headers,e.cookies,e.query),n={},a=Z(e);for(let{headers:o,has:i,missing:p,regex:f,source:h,locale:c}of r){let s=c===!1?e.rawPath:a;if(new RegExp(f).test(s)&&J(t,i)&&J(t,p,!0)){let m=nt(h)(s);o.forEach(l=>{try{let d=Oe(m,U(l.key),l.key),u=Oe(m,U(l.value),l.value);n[d]=u}catch{R(`Error matching header ${l.key} with value ${l.value}`),n[l.key]=l.value}})}}return n}function K(e,r){let{rawPath:t,headers:n,query:a,cookies:o,url:i}=e,p=Z(e),f=it(n,o,a),h=Gr(n,o,a),c=r.find(d=>{let u=d.locale===!1?t:p;return new RegExp(d.regex).test(u)&&J(f,d.has)&&J(f,d.missing,!0)}),s=a,m=i,l=Ze(c?.destination);if(R("isExternalRewrite",l),c){let{pathname:d,protocol:u,hostname:y,queryString:v}=Rr(c.destination,l),g=c.locale===!1?t:p;R("urlParts",{pathname:d,protocol:u,hostname:y,queryString:v});let x=U(X(d,{isPath:!0})),w=U(X(y)),N=U(X(v)),T={...zr(nt(X(c.source,{isPath:!0})))(g),...c.has?.reduce((_,I)=>Object.assign(_,h(I)),{}),...c.missing?.reduce((_,I)=>Object.assign(_,h(I)),{})},S=Object.keys(T).length>0,P=v,C=y,b=d;if(S&&(b=oe(x(T)),C=oe(w(T)),P=oe(N(T))),E.i18n&&!l){let _=b.replace(new RegExp(`^/(${E.i18n.locales.join("|")})`),"");_.startsWith("/api/")&&(b=_)}m=l?`${u}//${C}${b}`:new URL(b,e.url).href,s={...a,...br(P)},m+=et(s),R("rewrittenUrl",{rewrittenUrl:m,finalQuery:s,isUsingParams:S})}return{internalEvent:{...e,query:s,rawPath:new URL(m).pathname,url:m},__rewrite:c,isExternalRewrite:l}}function Kr(e){return e.rawPath.match(/(\\|\/\/)/)?{type:e.type,statusCode:308,headers:{Location:qr(new URL(e.url))},body:j(),isBase64Encoded:!1}:!1}function Vr(e){if(new URL(e.rawPath,"http://localhost").host!=="localhost"||E.skipTrailingSlashRedirect||e.rawPath.startsWith("/api/"))return!1;let r=j();if(E.trailingSlash&&!e.headers["x-nextjs-data"]&&!e.rawPath.endsWith("/")&&!e.rawPath.match(/[\w-]+\.[\w]+$/g)){let t=e.url.split("?");return{type:e.type,statusCode:308,headers:{Location:`${t[0]}/${t[1]?`?${t[1]}`:""}`},body:r,isBase64Encoded:!1}}if(!E.trailingSlash&&e.rawPath.endsWith("/")&&e.rawPath!=="/"){let t=e.url.split("?");return{type:e.type,statusCode:308,headers:{Location:`${t[0].replace(/\/$/,"")}${t[1]?`?${t[1]}`:""}`},body:r,isBase64Encoded:!1}}return!1}function Jr(e,r){let t=Kr(e);if(t)return t;let n=Vr(e);if(n)return n;let a=vr(e);if(a)return a;let{internalEvent:o,__rewrite:i}=K(e,r.filter(p=>!p.internal));if(i&&!i.internal)return{type:e.type,statusCode:i.statusCode??308,headers:{Location:o.url},body:j(),isBase64Encoded:!1}}function Qr(e,r){let{rawPath:t,query:n}=e,a=`${E.basePath??""}/_next/data/${r}`;if(t.startsWith("/_next/data")&&!t.startsWith(a))return{type:e.type,statusCode:404,body:ze("{}"),headers:{"Content-Type":"application/json"},isBase64Encoded:!1};if(t.startsWith(a)&&t.endsWith(".json")){let o=t.slice(a.length,-5).replace(/^\/index$/,"/");return n.__nextDataReq="1",{...e,rawPath:o,query:n,url:new URL(`${o}${et(n)}`,e.url).href}}return e}function Yr(e,r){let{rawPath:t}=e,{dynamicRoutes:n,routes:a}=r,o=Object.entries(n).filter(([,{fallback:l}])=>l===!1),i=o.some(([,{routeRegex:l}])=>new RegExp(l).test(t)),p=E.i18n?.locales,f=p?.includes(t.split("/")[1])||p===void 0?t:`/${E.i18n?.defaultLocale}${t}`;f!=="/"&&E.trailingSlash&&f.endsWith("/")&&(f=f.slice(0,-1));let h=se(f),c=o.map(([l])=>l),s=le(f).filter(({route:l})=>!c.includes(l)),m=Object.keys(a).includes(f);return i&&!m&&h.length===0&&s.length===0?{event:{...e,rawPath:"/404",url:q(e.url,"/404"),headers:{...e.headers,"x-invoke-status":"404"}},isISR:!1}:{event:e,isISR:i||m}}F();De();var Zr=fr,en=pr,tn=Cr(Zr,en);function rn(){return Promise.resolve().then(()=>(Zt(),Ke))}async function nn(e,r,t=rn){let n=e.headers;if(n["x-isr"]&&n["x-prerender-revalidate"]===M.preview.previewModeId)return e;let a=Z(e);if(!tn.some(g=>g.test(a)))return e;let o=new URL(a,e.url);o.search=r;let i=o.href,p=await(await t()).default({geo:{city:decodeURIComponent(n["x-open-next-city"]),country:n["x-open-next-country"],region:n["x-open-next-region"],latitude:n["x-open-next-latitude"],longitude:n["x-open-next-longitude"]},headers:n,method:e.method||"GET",nextConfig:{basePath:E.basePath,i18n:E.i18n,trailingSlash:E.trailingSlash},url:i,body:_r(e.method,e.body)}),f=p.status,h=p.headers,c={},s={},m=["x-middleware-override-headers","x-middleware-next","x-middleware-rewrite","content-encoding"],l="x-middleware-request-";h.forEach((g,x)=>{if(x.startsWith(l)){let w=x.substring(l.length);c[w]=g}else{if(m.includes(x.toLowerCase()))return;x.toLowerCase()==="set-cookie"?s[x]=s[x]?[...s[x],g]:[g]:s[x]=g}});let d=h.get("x-middleware-rewrite"),u=!1,y=e.query,v=e.url;if(d)if(v=d,Ze(v,e.headers.host))u=!0;else{let g=new URL(d);y=Me(g.searchParams),"__nextDataReq"in e.query&&(y.__nextDataReq=e.query.__nextDataReq)}if(!d&&!h.get("x-middleware-next")){let g=p.body??j();return{type:e.type,statusCode:f,headers:s,body:g,isBase64Encoded:!1}}return{responseHeaders:s,url:v,rawPath:new URL(v).pathname,type:e.type,headers:{...e.headers,...c},body:e.body,method:e.method,query:y,cookies:e.cookies,remoteAddress:e.remoteAddress,isExternalRewrite:u}}var fe="x-middleware-response-",$n=fe.length,ee="x-opennext-",an=`${ee}initial-url`,Sn=`${ee}locale`,on=`${ee}resolved-routes`,sn={"x-open-next-city":"x-vercel-ip-city","x-open-next-country":"x-vercel-ip-country","x-open-next-region":"x-vercel-ip-country-region","x-open-next-latitude":"x-vercel-ip-latitude","x-open-next-longitude":"x-vercel-ip-longitude"};function Ae(e,r,t=!0){let n=t?fe:"";Object.entries(r).forEach(([a,o])=>{o&&(e[n+a]=Array.isArray(o)?o.join(","):o)})}async function ln(e){try{for(let[d,u]of Object.entries(sn)){let y=e.headers[d];y&&(e.headers[u]=y)}for(let d of Object.keys(e.headers))(d.startsWith(ee)||d.startsWith(fe))&&delete e.headers[d];let r=Xr(e,dr),t=Qr(e,Je);if("statusCode"in t)return t;let n=Jr(t,L.redirects);if(n)return n.headers.Location=new URL(n.headers.Location).href,R("redirect",n),n;let a=await nn(t,new URL(e.url).search);if("statusCode"in a)return a;let o=a.responseHeaders,i=a.isExternalRewrite??!1;if(t=a,!i){let d=K(t,L.rewrites.beforeFiles);t=d.internalEvent,i=d.isExternalRewrite}let p=se(t.rawPath),f=!i&&p.length>0;if(!(f||i)){let d=K(t,L.rewrites.afterFiles);t=d.internalEvent,i=d.isExternalRewrite}let h=!1;if(!i){let d=Yr(t,M);t=d.event,h=d.isISR}let c=le(t.rawPath),s=!i&&c.length>0;if(!(s||f||i)){let d=K(t,L.rewrites.fallback);t=d.internalEvent,i=d.isExternalRewrite}let m=t.rawPath.startsWith("/_next/image");if(f||s||i||m||se(t.rawPath).length>0||le(t.rawPath).length>0||(t={...t,rawPath:"/404",url:q(t.url,"/404"),headers:{...t.headers,"x-middleware-response-cache-control":"private, no-cache, no-store, max-age=0, must-revalidate"}}),globalThis.openNextConfig.dangerous?.enableCacheInterception&&!("statusCode"in t)&&(R("Cache interception enabled"),t=await Or(t),"statusCode"in t))return Ae(t.headers,{...o,...r},!1),t;Ae(t.headers,{...o,...r});let l=[...p,...c];return R("resolvedRoutes",l),{internalEvent:t,isExternalRewrite:i,origin:!1,isISR:h,resolvedRoutes:l,initialURL:e.url,locale:E.i18n?V(t,E.i18n):void 0}}catch(r){return Q("Error in routingHandler",r),{internalEvent:{type:"core",method:"GET",rawPath:"/500",url:q(e.url,"/500"),headers:{...e.headers},query:e.query,cookies:e.cookies,remoteAddress:e.remoteAddress},isExternalRewrite:!1,origin:!1,isISR:!1,resolvedRoutes:[],initialURL:e.url,locale:E.i18n?V(e,E.i18n):void 0}}}globalThis.internalFetch=fetch;globalThis.__openNextAls=new je;var cn=async(e,r)=>{let t=await ir(globalThis.openNextConfig.middleware?.originResolver),n=await sr(globalThis.openNextConfig.middleware?.override?.proxyExternalRequest);return nr({isISRRevalidation:e.headers["x-isr"]==="1",waitUntil:r?.waitUntil},async()=>{let a=await ln(e);if("internalEvent"in a){if(R("Middleware intercepted event",e),!a.isExternalRewrite){let o=await t.resolve(a.internalEvent.rawPath);return{type:"middleware",internalEvent:{...a.internalEvent,headers:{...a.internalEvent.headers,[an]:e.url,[on]:JSON.stringify(a.resolvedRoutes)}},isExternalRewrite:a.isExternalRewrite,origin:o,isISR:a.isISR,initialURL:a.initialURL,resolvedRoutes:a.resolvedRoutes}}try{return n.proxy(a.internalEvent)}catch(o){return Q("External request failed.",o),{type:"middleware",internalEvent:{...a.internalEvent,rawPath:"/500",url:q(a.internalEvent.url,"/500"),method:"GET"},isExternalRewrite:!1,origin:!1,isISR:a.isISR,initialURL:a.internalEvent.url,resolvedRoutes:[{route:"/500",type:"page"}]}}}return R("Middleware response",a),a})},un=await lr({handler:cn,type:"middleware"}),Ln={fetch:un};export{Ln as default,un as handler};
